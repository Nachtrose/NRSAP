{"name":"NRSAP-Drift-Travel-Shards","type":"script","author":"YDfnQ8kHYo8L2nEG","img":"modules/NRSAP/packs/drift-icon.webp","scope":"global","command":"// To work properly, this macro requires the module Sequencer as\n// a dependency.\nlet loopingBackground = canvas.background.placeables.find(t => t.data.img.endsWith(\"loop.webm\"));\n\nif(loopingBackground.data.alpha === 0.0){\n\tawait new FilePicker({\n\t\ttype: \"imagevideo\",\n\t\tdisplayMode: \"tiles\",\n\t\tcurrent: canvas.scene.img,\n\t\tcallback: imagePath => { playSequence(imagePath) }\n\t}).browse(\"modules/NRSAP/library/travel/hyperspace/backgrounds/\");\n}else{\n\tplaySequence();\n}\n\nfunction playSequence(img){\n\t\n\tif(img){\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Intro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(2550)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/drift-entry-shard.webm\").anchor(0)\n\t\t\t.wait(2950)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(1.0)\n\t\t\t\t.volume(1.0)\n\t\t\t.wait(1500)\n\t\t\t.thenDo(() => { \n\t\t\t\tcanvas.scene.update({ img: img });\n\t\t\t})\n\t\t\t.play()\n\n\t}else{\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Outro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(200)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/drift-exit-shard.webm\").anchor(0)\n\t\t\t.wait(150)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(0.0)\n\t\t\t\t.volume(0.0)\n\t\t\t.play()\n\n\t}\n\n}","folder":null,"sort":0,"permission":{"default":0,"YK46QS70OGKGnDLG":3,"YDfnQ8kHYo8L2nEG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jQn7RHLK3qLKQzyL"}},"_id":"Tp6fDb0938lXBItk"}
{"name":"NRSAP-Drift-Travel-Hex","type":"script","author":"YDfnQ8kHYo8L2nEG","img":"modules/NRSAP/packs/drift-icon.webp","scope":"global","command":"// To work properly, this macro requires the module Sequencer as\n// a dependency.\nlet loopingBackground = canvas.background.placeables.find(t => t.data.img.endsWith(\"loop.webm\"));\n\nif(loopingBackground.data.alpha === 0.0){\n\tawait new FilePicker({\n\t\ttype: \"imagevideo\",\n\t\tdisplayMode: \"tiles\",\n\t\tcurrent: canvas.scene.img,\n\t\tcallback: imagePath => { playSequence(imagePath) }\n\t}).browse(\"modules/NRSAP/library/travel/hyperspace/backgrounds/\");\n}else{\n\tplaySequence();\n}\n\nfunction playSequence(img){\n\t\n\tif(img){\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Intro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(2550)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/drift-entry-hex.webm\").anchor(0)\n\t\t\t.wait(2950)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(1.0)\n\t\t\t\t.volume(1.0)\n\t\t\t.wait(1500)\n\t\t\t.thenDo(() => { \n\t\t\t\tcanvas.scene.update({ img: img });\n\t\t\t})\n\t\t\t.play()\n\n\t}else{\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Outro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(200)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/drift-exit-hex.webm\").anchor(0)\n\t\t\t.wait(150)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(0.0)\n\t\t\t\t.volume(0.0)\n\t\t\t.play()\n\n\t}\n\n}","folder":null,"sort":0,"permission":{"default":0,"YK46QS70OGKGnDLG":3,"YDfnQ8kHYo8L2nEG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jQn7RHLK3qLKQzyL"}},"_id":"Pe8Px7j34ZmKtWmv"}
{"name":"Sequencer-Hyperspace-Jump","type":"script","author":"YDfnQ8kHYo8L2nEG","img":"modules/NRSAP/library/travel/hyperspace/backgrounds/first-background.jpg","scope":"global","command":"// To work properly, this macro requires the module Sequencer as\n// a dependency.\nlet loopingBackground = canvas.background.placeables.find(t => t.data.img.endsWith(\"loop.webm\"));\n\nif(loopingBackground.data.alpha === 0.0){\n\tawait new FilePicker({\n\t\ttype: \"imagevideo\",\n\t\tdisplayMode: \"tiles\",\n\t\tcurrent: canvas.scene.img,\n\t\tcallback: imagePath => { playSequence(imagePath) }\n\t}).browse(\"modules/NRSAP/library/travel/hyperspace/backgrounds/\");\n}else{\n\tplaySequence();\n}\n\nfunction playSequence(img){\n\t\n\tif(img){\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Intro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(1850)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/hyperspace-start.webm\").anchor(0)\n\t\t\t.wait(1050)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(1.0)\n\t\t\t\t.volume(1.0)\n\t\t\t.wait(1500)\n\t\t\t.thenDo(() => { \n\t\t\t\tcanvas.scene.update({ img: img });\n\t\t\t})\n\t\t\t.play()\n\n\t}else{\n\n\t\tnew Sequence()\n\t\t\t.sound(\"modules/NRSAP/library/travel/hyperspace/sounds/FTLSound_Outro.ogg\")\n\t\t\t\t.volume(0.55)\n\t\t\t.wait(200)\n\t\t\t.effect(\"modules/NRSAP/library/travel/hyperspace/hyperspace-stop.webm\").anchor(0)\n\t\t\t.wait(350)\n\t\t\t.animation()\n\t\t\t\t.on(loopingBackground)\n\t\t\t\t.opacity(0.0)\n\t\t\t\t.volume(0.0)\n\t\t\t.play()\n\n\t}\n\n}","folder":null,"sort":0,"permission":{"default":0,"YK46QS70OGKGnDLG":3,"YDfnQ8kHYo8L2nEG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jQn7RHLK3qLKQzyL"}},"_id":"F1km5gp1OGqXXvuY"}
